# スクラムの話


---

# アジェンダ
- 前説
- アジャイルについて
- さてスクラムについて
- 役割・イベント・成果物
- あるスプリントの一日
- 何であり、何でないか
- 参考
- Q and A

---

# 前説

---

# スクラム

## なんですか？フレームワーク（枠組み）です。
> スクラム（名詞）：複雑で変化の激しい問題に対応するためのフレームワークであり、
> 可能な限り価値の高いプロダクトを生産的かつ創造的に届けるためのものである。
> スクラムとは、次のようなものである。<br>
> - 軽量<br>
> - 理解が容易<br>
> - 習得が困難<br>
> <cite>--- 「スクラムガイド」より</cite>
---

# なぜスクラムの話を？

## 変化の激しい現代にぴったり

- 要件定まってない、なかなか固まらない
- できてから「何か違う」とか言われる
- 途中でお客の気が変わる
- 「アレもやってほしい」とか言い出す
- 短期開発が多い

## そして
- 私がもともとアジャイルかぶれである
    - 私がアジャイルというものを知ったのは・・・(ry

---
# アジャイルについて

---
# Ｑ：どんなことを知っていますか？

---

# アジャイルについて

## ウォーターフォール：よく見るこんな図

![滝](waterfall.png)

- 実は昨今評判がよくない。

## 原点
- Winston W. Royce博士が1970年に発表した論文と言われる。
    - Managing the Development of Large Software Systems

---
# ウォーターフォールの弱点

## 仮説に基づく予測に基づく計画に基づく作業

- 早い段階で要求を固めないとリスク含みに
    - 新システム／製品の開発では「イメージ」しかなかったり
    - **不安**なんで互いに**契約**で縛ろうとする。リスクの押し付けあい。
- 前工程の成果物が「正しい」という前提
    - 一方通行な工程ゲート。逆戻りは悪。成果物がもっとよくなってもね。

## 現実
- 時間の経過とともに学習
    - 時間をかけて問題を「分割」
    -  「分割統治」できるようなると理解がすすむ
    -  「後から考えたら」というのは割と自然
- 遠いマトは当てにくい
    - 人間の予想能力には限界がある
    - 見当違いのところを射ているかも

---
# ウォーターフォールの弱点

## 文書、文書、文書〜！
- 確かにRoyce先生は「文書化しろ！徹底的に！」とおっしゃっている。
- でもよく読むと「設計」と「文書化」は別の活動ととらえている。
    - 設計書を書くことが設計ではない
- そして文書は動かない
    - 真に価値をもたらすのは動くソフトウェア
## 重荷
- 結局、マクロな視点とミクロな視点の「行きつ戻りつ」してはじめて「よい設計」になる。
- だのに、メンテナンスすべき文書が多いと「行きつ戻りつ」が重荷になる。
- なんでもトレーサビリティを要求する磯九千が拍車をかける。

---
# 一応弁護しておく

## Royce博士曰く

- 実は先生はちゃんと次のように述べている：
    - 一方向／一過型の開発プロセスは「リスキーで失敗する」
    - 特に新規開発の場合は、同じステップのミニチュア版でパイロット開発を行い、そこで得た知見を持って本番のステップを踏むべし
    - **分からないことには謙虚に取り組め**ってこと。
## Royce博士の時代と今
- 実行環境、開発環境が違う
    - 現代のパソコンごときが1970年代の汎用機の何万倍もの演算能力をもつ
    - 圧倒的なプログラム構築コストの低下
    - 何度もやり直せる

---

# じゃあアジャイルは？

---
# アジャイルソフトウェア開発宣言より

> 私たちは、ソフトウェア開発の実践<br>
> あるいは実践を手助けをする活動を通じて、<br>
> よりよい開発方法を見つけだそうとしている。<br>
> この活動を通して、私たちは以下の価値に至った。<br>
> 
> プロセスやツールよりも個人と対話を、<br>
> 包括的なドキュメントよりも動くソフトウェアを、<br>
> 契約交渉よりも顧客との協調を、<br>
> 計画に従うことよりも変化への対応を、<br>
>  
> 価値とする。すなわち、左記のことがらに価値があることを<br>
> 認めながらも、私たちは右記のことがらにより価値をおく。


---
# 誤解

## アジャイルはドキュメントなぞ書かない

- コミュニケーションの手段としてドキュメントやツール**よりも**対話に重きを置くと言っているだけ。
    - 書かないとか書くべきでないとか言っていない。
    - 必要なものは書く。必要でないものは書かない。

## アジャイルは計画なんぞ立てない

- 遠大な予測に基づく計画に時間をかけない、というだけ
    - 実績と直近の経験に基づくく適応型の計画手法。
    - 短いサイクルで繰り返すことで狙いとの乖離を補正する。


---
# ブーム？ファッション？

## 実は今二度めのブーム
- 一度目は1990年後半から2000年初頭に海外を中心に、<br>日本でもいくつか書籍が出るなどした。
- 二度めは2008年か2009年から。アジャイルマニフェスト宣言から<br>10年を経過して今再び的な。

---
# ブーム？ファッション？
## 今度は一過性のブームではなくなってきている。
- VersionOne社の2011年のレポート[3]によると
    - 何らかのアジャイル開発のプラクティスを取り入れている企業：８０％
        - 逆に取り入れていない：１５％
    - 半数のプロジェクトがアジャイル開発である：６０％
    - ２〜５年および５年以上のアジャイル開発経験がある：４５％
        - １〜２年も含めると：８５％

---

# 各種イベント

## Agile 20xx
- Agile Allianceによる国際イベント

## Agile Japan
- 2009年に始まったアジャイルジャパン実行委員会によるイベント
- 2011年から札幌でも同日サテライト開催されている
    - 本祭の基調講演がust中継され、その後プレゼンやワークショップなどローカルイベントが開催される。
    - 個人的には2011年(東日本大震災の約1ヶ月後)に北海道サテライトで聞いた、Lind Rising女史の基調講演が感動的だった。

---
# 各種イベント

## Scrum Boot Camp
- 全国各地で開催されている、スクラムの入門的イベント
- 実践するにも基礎訓練がねぇ、という人向け

## スクラム道
- スクラムを中心にしたアジャイルなあり方を探求する場
- 既に実践経験がある人向け

---
# さてスクラムについてもう一度

## なんですか？フレームワーク（枠組み）です。
> スクラム（名詞）：複雑で変化の激しい問題に対応するためのフレームワークであり、
> 可能な限り価値の高いプロダクトを生産的かつ創造的に届けるためのものである。


---
# フレームワーク

## 構成要素

- 大雑把にいうと：
    - 役割
    - イベント
    - 成果物

- というわけでもう少し詳しくお話します。

---

# 役割・イベント・成果物

---

# 役割・イベント・成果物

スクラムで定義されているもの あるいは 事

- 役割 (Role)
- イベント (Event)
- 成果物 (Artifacts?)
	
---
# 役割

---
# 役割：プロダクトオーナー

## 何に責任を持つか
- プロダクトの価値を最大化する
- 開発チームが行う作業の価値を保証する
- 「プロダクトバックログ」の管理
    - アイテムの優先順位づけ、プロダクトの価値を最大化するように。
    - アイテムの明確化、開発チームが理解できるように。

## 特徴
- 原則、一人の人。複数の人が意見はできるが判断は一人がする。
- 開発チームに作業を依頼できる**唯一の人**
- 成功の秘訣
    - **組織は**プロダクトオーナーの判断を**尊重しなければならない**

---
# 役割：プロダクトオーナー

## 現実的には誰がやる？
- 定義的には発注側／受注側いずれでもできそう
    - 受注側でやる場合は発注側のプロキシーとして振る舞うことになる
- でも本当は
    - 発注側に役割を置ければスムーズなはず
    - スクラムとその価値を理解してもらわないと。


---
# 役割：開発チーム

## 責務
- （プロダクトオーナーが）リリース判断可能な、プロダクトのインクリメントを、各スプリントの終わりに届ける


## 特徴
- 自己組織化
    - 自らの作業を構成し、管理する。同時に組織にもそのことが認められている。
- 機能横断的
    - インクリメントを作成するスキルを**チームとして**すべて備えている。
- 全員「開発者」
    - それ以外の肩書き（アナリストとかアーキテクトとか）はない。
- 個々の専門性によらず**責任はチーム全体**で持つ。

---
# 役割：開発チーム

## プロダクトオーナーとの関係
- プロダクトオーナーは「何を作るか」に責任がある
- 開発チームは「どう作るか」に責任がある

## チームの大きさ
- 一つのチームは大きくても9人。
    - 相互の調整の機会が増えちゃって効率が落ちる。
- 逆に3人未満だとツラい。
    - 相互作用が少なくて生産性が上がらない
    - そもそも必要なスキルを備えた人が足りない
- 「スクラム オブ スクラム」というスケールアップの手法はある

---
# 役割：スクラムマスター

## 責務
- スクラムの理解と成立を担う
    - スクラムチームにスクラムの理論とプラクティスを守ってもらう
- 開発チームを支援する
    - 集中できる環境を用意する
    - 開発チームが自力で解決できない作業の妨げを取り除く
- プロダクトオーナーを支援する。
    - プロダクトバックログの効果的な管理方法を見つけ出す
    - プロダクトバックログを通じたチーム内のやりとりのサポート
    - バックログ項目の書き方を教えたりもする
- （要望に応じて）スクラムイベントをファシリテートする。
- 組織を支援する。

---
# 役割：スクラムマスター

## 特徴
- プロジェクトが円滑に運営されるよう、サポートする。
- 「マスター」とかいうが「ぐいぐい型リーダー」ではない。
- いわゆる「サーバントリーダー」である。
- でも超大変そう。

---
# 役割：スクラムマスター

## 補足
- スクラムチーム、なかんずく開発チームは自己組織化を前提としている。
- これは組織の標準的な開発プロセスが強制法規のようなものだった場合、相容れない可能性が高い。
    - スクラムマスターは両者の板ばさみになる可能性はある。
    - 私見：何にもっとも価値を置くのかという優先順位に関して熱く不屈の信念を持って当たるしかないと思う。当然ある程度政治的手法も駆使できないと。

ある認定スクラムマスター曰く

> スクラムマスターは会社を首になって一人前

（ああ恐ろしい）

---
# 大事なこと

## スクラムチームの定義

> スクラムチーム＝｛
>     プロダクトオーナー
>     ＋開発チーム
>     ＋スクラムマスター｝

---

#「全員で一丸」

---
# イベント

---
# イベント

イベントはスクラムによるソフトウェア開発過程にリズムと検査の機会をもたらす。

- スプリント
- スプリント計画ミーティング
- デイリースクラム
- スプリントレビュー
- スプリントレトロスペクティブ

---
# イベント

## リズムと検査
- 一定の期間で作業を区切る
- 頻繁に検査
    - 想定どおりゴールに向かっているか
    - そうでないなら問題はなにか
    - 計画の見直しは不要か
- 多層
    - スプリント毎
    - 日ごと


---
# イベント：スプリント

## 基本の反復単位
- 中心的イベント。

> これは、「完了」した、動作する、リリース判断可能なプロダクトのインクリメントを作るための、
> 1ヶ月以下のタイムボックスである。スプリントは、開発作業を行う連続した期間である。
> スプリントが終了すると、新しいスプリントが開始される。
> <br>
> --- 「スクラムガイド」より

---
# タイムボックス？

## やりたいこととかかる時間の関係

### ふつうは
- やりたいことを全部やるにはこれだけかかる
- 「やりたいこと」を固定、時間は変動
### タイムボックスは
- この期間でやれるのはこれだけ
- 時間を固定、「やりたいこと」を変動

---
# そうそう

## そういえばインクリメントって？
- インクリメント≒成果物
    - ただし、「動く」成果物
    - リリース判断可能でなければならない
- 少しずつ積み上がってゆく
    - やがて全体に

---

# イベント：スプリント

## 内部構造
- スプリントは以下の構成となっている
    - スプリント計画ミーティング
    - デイリースクラム
    - 開発作業
    - スプリントレビュー
    - スプリントレトロスペクティブ
---
# イベント：スプリント

## スプリントの間は
- スプリントゴール(後述)に影響するような変更を加えない
- 開発チームの編成を維持する
- 品質目標を下げない
- プロダクトオーナーと開発チームの交渉が必要になるかも

## もう一つ
- スプリントゴールに向かって全員が最善を尽くす
    - ここが崩れると計画と進捗に関する信頼性が失われてしまう！

---
# イベント：スプリント計画ミーティング

## 第一部：今回は何をするか？
- プロダクトオーナーが開発チームにプロダクトバックログを示す
    - 優先順位(≠優先度)づけ済み
- スクラムチーム**全体で**協力
    - このスプリントで何をするかを理解する
## インプット
- プロダクトバックログ
- 前回までのインクリメント
- 開発チームのキャパシティ（予測）
- 開発チームのベロシティ（実績値）

---
# イベント：スプリント計画ミーティング

## ポイント
- プロダクトバックログから選択する項目の数は開発チームが決める
    - プロダクトオーナーが押し込んじゃダメ

----
# イベント：スプリント計画ミーティング

## アウトプット
- スプリントゴール
    - スプリントの達成目標である
    - 開発チームの指針になる
        - なぜそのインクリメントを作るのか
- スプリントバックログ（原初版）

----
# イベント：スプリント計画ミーティング

## 第二部：

- 第一部で何をするか(What)、なぜそれをするのか(Why)、が決まる。
- 第二部では、どうやって(How)を決める。

## 進め方
- 開発チームが：
    - スプリントバックログ項目を、動くプロダクトインクリメントにする方法／作業を設計する
    - その際1日以下の単位に分解する
    - ベロシティの実績値に鑑みて反復期間内に終えられるか注視する

---
# イベント：スプリント計画ミーティング

## 収まらない！
- 見積りの結果、収まらないとなったらプロダクトオーナーの出番
    - 選択したプロダクトバックログの項目を
        - 削ってみたり
        - 変えてみたり
    - 開発チームと協力して収まるようにする
        - 妥協を要求するわけじゃない

## 時間が余る！
- 多分ないと思うけど、その場合は惜しくも第一部で選から漏れた項目を追加して見積り直す。

---
# イベント：スプリント計画ミーティング

## スクラムチーム外からの参加者
- 禁じているわけじゃない。
- がしかし、重大な約束事がある

## 約束事
- 居てもいいが口は出さない

---

# イベント：デイリースクラム

## 日日のチェックポイント
- 朝会に近い
- 開発チームがやる

## やりかた
- 毎日できれば同じ場所／同じ時間に開催する
- 前回のデイリースクラムから行ったこと
- 次回までに行うこと
- 問題点はなにか

---

# イベント：デイリースクラム

## 意義
- 開発チーム内での情報の同期ポイント
- 最小単位の検査機会
- 一日の作業がうまく行っていればスプリントゴールに向かっているはず

---
# イベント：スプリントレビュー

## インクリメントの検査の機会
- プロダクトオーナーが「完了」と「未完」の特定をする
- 開発チームが「完了」したものを**関係者に**デモする。質疑応答。
- プロダクトオーナーはプロダクトバックログの状況に鑑みてプロジェクト全体の完了日を予測する。
- 開発チームはスプリントでうまく行ったこと、直面した問題、どのように解決したか議論する。
- 次に何をするか議論し、価値ある入力を次のスプリント計画ミーティングに提供する。

## アウトプット
    - 改訂版のプロダクトバックログ
        - 次のスプリントで選択する可能性のある項目を定義
        - 新しい状況に合わせて調整済み

---
# イベント：スプリントレトロスペクティブ

## いつやる？
- スプリントレビューと次のスプリント計画ミーティングの間

## 目的
- 今回のスプリントを検査する。
    - 人、関係、プロセス、ツールの観点
- スクラムチームとスプリントの改善計画の機会
- スクラムマスターがスクラムチームに改善を促す
    - 開発プロセスやプラクティスをより効果的に
    - 次のスプリントで楽しめるように
    - 「完了」の定義を調整しプロダクトの品質向上計画をつくる

---
# 成果物

---
# 成果物

スクラムで定義されている成果物は少ない。

- プロダクトバックログ
- スプリントバックログ
- インクリメント

---

# 成果物：プロダクトバックログ
## 何度も出てきてるので、簡単に
- そのプロダクトに対する要求の束
- 「ユーザーストーリー」の束
- 優先順位づけされている

---
# 成果物：スプリントバックログ

## 何度も出てきてるので、簡単に
- そのスプリントで実現する約束になっているスプリント項目の束
- 優先順位づけされている

---
# 成果物：インクリメント

## 何度も出てきてるので、簡単に
- 出荷判断可能
- 動く

## ドキュメントはインクリメントになりうる？
- 場合による
    - 例えば設計行為の証左ではなく、プロダクトの価値の一部である場合

---
# 何であり、何でないか
---
# 何であり、何でないか
## 適応症と禁忌症
- 適応症
    - 特に、多分に探求的要素があるプロジェクトには効くと思われる
    - 要件がぐらつきそうな、案件とか
- 禁忌症
    - 受託側にリスクを丸投げするタイプ
    - 要件がかっちり決まってて譲歩の余地がないタイプ
---
# 何であり、何でないか

## 生みの親と遠い祖先
- 実はスクラムの遠い祖先は日本にある
    - The New New Product Development Game, 1986 

## これ以外の活動をやっちゃいけないわけじゃない
- スプリントレトロスペクティブではプロセス改善の機会
- 自己組織化されたチーム：やり方は自分たちで改善する

---
# 何であり、何でないか

## 単なる枠組み
- スクラムは軽量な枠組み
    - 軽量である≠手抜き
    - やり方が軽量なだけでやることはやる
- 枠なので中身は自分たちで考えて作ってゆく
    - バックログの見積り方については何も決められていない
    - ツールについては何も強制していない
    - 進捗や品質の可視化方法も

---
# スクラムを支えるもの

- 透明性
- 検査
- 共通認識

---
# スクラムを支えるもの

## 透明性
- プロジェクトの情報はスクラムチームに隠し立てなく見えている
    - 完了の定義、ゴール、計画、進捗と見通し、メンバーの気分、etc
    - 共通の指標
---
# スクラムを支えるもの
## 検査
- ゴールに向かってるか
    - 絶えず確認。繰り返し確認。
- 機会
    - 各種スクラムイベント
- 早期に状況変化に適応
    - 被害を最小限にする
---
# スクラムを支えるもの
## 共通認識
- 透明化された情報、コミュニケーション
- 認識を合わせる機会

---
# 文献

1. Winston W. Royce, [Managing the Development of Large Software Systems](http://www.cs.umd.edu/class/spring2003/cmsc838p/Process/waterfall.pdf), Proceedings, IEEE WESCON, Aug. 1970.
1. [アジャイルソフトウェア宣言](http://agilemanifesto.org/iso/ja/)
1. [State of Agile Development Survey Results](http://www.versionone.com/state_of_agile_development_survey/11/)
1. [スクラム道](http://www.taoofscrum.org/contents/)
1. Takeuchi, H. and Nonaka, I. 1986. The New New Product Development Game, Harvard Business Review, January/February, 285-305
---

# 参考
- Jeff Sutherland, Ken Schwaber, Japanese translation by Kenji Hiranabe, [スクラムガイド(邦訳)](http://www.scrum.org/Portals/0/Documents/Scrum%20Guides/Scrum%20Guide%20-%20JA.pdf)
- Henrik Kniberg, Japanese translation by Ryutaro Yoshiba, [塹壕よりスクラムとXP](http://www.infoq.com/jp/minibooks/scrum-xp-from-the-trenches)
- 平鍋健児, 野中郁次郎, [アジャイル開発とスクラム 顧客・技術・経営をつなぐ協調的ソフトウェア開発マネジメント](http://www.seshop.com/product/detail/15329/), 翔泳社, 2013
- Kent Beck, 長瀬嘉秀(訳), テクノロジックアート(訳), [XPエクストリームプログラミング入門](http://www.amazon.co.jp/XP%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%BB%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E5%85%A5%E9%96%80%E2%80%95%E5%A4%89%E5%8C%96%E3%82%92%E5%8F%97%E3%81%91%E5%85%A5%E3%82%8C%E3%82%8B-%E3%82%B1%E3%83%B3%E3%83%88-%E3%83%99%E3%83%83%E3%82%AF/dp/4894716852)  第2版, ピアソンエデュケーション, 2005
- 西村 直人, 永瀬美穂, 吉羽龍太郎, [SCRUM BOOT CAMP THE BOOK](http://www.seshop.com/product/detail/15395/), 翔泳社, 2013

---
# Q and A
